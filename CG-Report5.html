<!DOCTYPE html>
<html lang="ja">
  <head>

    <meta charset="utf-8" />
    <script src="https://unpkg.com/three@0.137.4/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.137.4/examples/js/controls/OrbitControls.js"></script>
    <script>
      // ページの読み込みを待つ
      window.addEventListener('load', init);
      var F1 = 0;
      var F2 = 0;
      var F3 = 0;
      function init() {
        // サイズを指定
        const width = 960;
        const height = 540;

        // レンダラーを作成
        const renderer = new THREE.WebGLRenderer({
          canvas: document.querySelector('#myCanvas')
        });
        //document.body.appendChild(renderer.domElement);
        renderer.setSize(width, height);
        // 背景の色を設定
        renderer.setClearColor(0x008000);

        // シーンを作成
        const scene = new THREE.Scene();

        // カメラを作成
        const camera = new THREE.PerspectiveCamera(45, width / height);
        // カメラの初期座標を設定
        camera.position.set(0, 500, 1000);

        // カメラコントローラーを作成
        const controls = new THREE.OrbitControls(camera,document.body);
  
        // 平行光源1
        var directionalLight1 = new THREE.DirectionalLight(0xffffff);
        directionalLight1.position.set(100, 100, 100);
        // シーンに追加
        scene.add(directionalLight1);
        // 平行光源2
        var directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(-100, 100, 100);
        // シーンに追加
        scene.add(directionalLight2);

        var directionalLight3 = new THREE.DirectionalLight(0xffffff);
        directionalLight3.position.set(0, -100, -100);
        // シーンに追加
        scene.add(directionalLight3);


        // helper
      /*const gridHelper = new THREE.GridHelper(200,50); // size, step
      scene.add(gridHelper);

      const axisHelper = new THREE.AxisHelper(200,50);
      scene.add(axisHelper);*/

        var textureLoader = new THREE.TextureLoader();  
        var texture1 = textureLoader.load("neck_gt1.png");
        var texture2 = textureLoader.load("body_gt1.png");
        var mat_neckGt1 = new THREE.MeshPhongMaterial();
        var mat_bodyGt1 = new THREE.MeshPhongMaterial();
        mat_neckGt1.map = texture1;
        mat_bodyGt1.map = texture2;

        const conegeometry = new THREE.ConeGeometry( 5, 20, 32 );
        const boxgeometry = new THREE.BoxGeometry( 5, 5, 5 );
        const material = new THREE.MeshPhongMaterial( {color: 0xFF0000} );
        const material_Bl = new THREE.MeshPhongMaterial( {color: 0x000000} );
        const material_BLUE = new THREE.MeshPhongMaterial( {color: 0x4c6cb3} );
        const material_YELLOW = new THREE.MeshPhongMaterial( {color: 0xffff00} );
        const material_WH = new THREE.MeshPhongMaterial( {color: 0xffffff} );
        const body1_G1 = new THREE.Mesh( conegeometry, material );
        scene.add( body1_G1 );
        body1_G1.scale.set(30,30,15);
        body1_G1.position.set(0, 100, 0);

        const cylindergeometry = new THREE.CylinderGeometry(5, 10, 20, 20);

        const body2_G1 = new THREE.Mesh( cylindergeometry, material );
        scene.add( body2_G1 );
        body2_G1.scale.set(6,20,10);
        body2_G1.rotation.y = 3.14/2;
        body2_G1.position.set(0, 200, 0);

        const jet1_G1 = new THREE.Mesh( cylindergeometry, material_Bl );
        scene.add( jet1_G1 );
        jet1_G1.scale.set(4,4,4);
        jet1_G1.rotation.y = 3.14/2;
        jet1_G1.position.set(150, -200, 0);

        const jet2_G1 = new THREE.Mesh( cylindergeometry, material_Bl );
        scene.add( jet2_G1 );
        jet2_G1.scale.set(4,4,4);
        jet2_G1.rotation.y = 3.14/2;
        jet2_G1.position.set(-150, -200, 0);

        const wingR_G1 = new THREE.Mesh( conegeometry, material );
        scene.add( wingR_G1 );
        wingR_G1.scale.set(56,14, 2);
        wingR_G1.rotation.z = 3.14/2+3.14/4;
        wingR_G1.position.set(60, 50, 0);

        const wingL_G1 = new THREE.Mesh( conegeometry, material );
        scene.add( wingL_G1 );
        wingL_G1.scale.set(56,14, 2);
        wingL_G1.rotation.z = -3.14/2-3.14/4;
        wingL_G1.position.set(-60, 50, 0);

        const wingT_G1 = new THREE.Mesh( conegeometry, material );
        scene.add( wingT_G1 );
        wingT_G1.scale.set(25,7, 2);
        wingT_G1.rotation.y = -3.14/2;

        wingT_G1.position.set(0, -130, 80);

        const back_g = new THREE.SphereGeometry(7, 12, 8, Math.PI * 0.25, Math.PI * 1.5, Math.PI * 0.25, Math.PI * 0.5);
        const back1_G1 = new THREE.Mesh( back_g, material );
        scene.add( back1_G1 );
        back1_G1.scale.set(20,35, 10);
        back1_G1.rotation.z = 3.14/2;
        back1_G1.position.set(-150, -180, 0);

        const back2_G1 = new THREE.Mesh( back_g, material );
        scene.add( back2_G1 );
        back2_G1.scale.set(20,35, 10);
        back2_G1.rotation.z = 3.14/2;
        back2_G1.position.set(150, -180, 0);

        const back3_G1 = new THREE.Mesh( boxgeometry, material );
        scene.add( back3_G1 );
        back3_G1.scale.set(20,100, 20);
        back3_G1.rotation.z = 3.14/2;
        back3_G1.position.set(0, -180, 0);

        const GetterE = new THREE.Group()
        GetterE.add(jet1_G1, jet2_G1, back1_G1, back2_G1, back3_G1, body1_G1, body2_G1, wingL_G1, wingR_G1, wingT_G1);
        GetterE.position.set(100, 500, 0);
        GetterE.rotation.z = 3.14/2;
        GetterE.rotation.x = 3.14+3.14/2;
        GetterE.scale.set(0.8,1,0.8)
        scene.add(GetterE);

        const material_GJ = new THREE.MeshPhongMaterial( {color: 0x95949a} );
        const body1_G2 = new THREE.Mesh( conegeometry, material_GJ );
        scene.add( body1_G2 );
        body1_G2.scale.set(35,30,20);
        body1_G2.position.set(0, 100, 0);

        const body2_G2 = new THREE.Mesh( cylindergeometry, material_GJ );
        scene.add( body2_G2 );
        body2_G2.scale.set(10,20,20);
        body2_G2.rotation.y = 3.14/2;
        body2_G2.position.set(0, 0, 0);

        const bodyGJ = new THREE.SphereGeometry(7, 12, 8);

        const body3_G2 = new THREE.Mesh( bodyGJ, material_GJ );
        scene.add( body3_G2 );
        body3_G2.scale.set(6,14.5, 7.2);
        body3_G2.rotation.z = 3.14/2;
        body3_G2.position.set(0, 190, 0);

        const body4_G2 = new THREE.Mesh( bodyGJ, material_BLUE );
        scene.add( body4_G2 );
        body4_G2.scale.set(14.5,6, 5);
        body4_G2.rotation.z = 3.14/2;
        body4_G2.position.set(100, 80, 0);

        const body5_G2 = new THREE.Mesh( bodyGJ, material_BLUE );
        scene.add( body5_G2 );
        body5_G2.scale.set(14.5,6, 5);
        body5_G2.rotation.z = 3.14/2;
        body5_G2.position.set(-100, 80, 0);

        const back1_G2 = new THREE.Mesh( back_g, material_GJ );
        scene.add( back1_G2 );
        back1_G2.scale.set(40,40,15);
        back1_G2.rotation.z = 3.14/2;
        back1_G2.position.set(0, -200, 0);

        const jet1_G2 = new THREE.Mesh( cylindergeometry, material_Bl );
        scene.add( jet1_G2 );
        jet1_G2.scale.set(4,4,4);
        jet1_G2.rotation.y = 3.14/2;
        jet1_G2.position.set(100, -200, 0);

        const jet2_G2 = new THREE.Mesh( cylindergeometry, material_Bl );
        scene.add( jet2_G2 );
        jet2_G2.scale.set(4,4,4);
        jet2_G2.rotation.y = 3.14/2;
        jet2_G2.position.set(-100, -200, 0);

        const wingR_G2 = new THREE.Mesh( conegeometry, material_GJ );
        scene.add( wingR_G2 );
        wingR_G2.scale.set(5,10, 1.5);
        wingR_G2.rotation.z = 3.14;
        wingR_G2.position.set(20, 220, 0);

        const wingL_G2 = new THREE.Mesh( conegeometry, material_GJ );
        scene.add( wingL_G2 );
        wingL_G2.scale.set(5,10, 1.5);
        wingL_G2.rotation.z = -3.14;
        wingL_G2.position.set(-20, 220, 0);
        
        const cockpit_G2 = new THREE.Mesh( boxgeometry, material_GJ );
        scene.add( cockpit_G2 );
        cockpit_G2.scale.set(10,15,5);
        cockpit_G2.position.set(0, 30, 70);

        const GetterJ = new THREE.Group()
        GetterJ.add(jet1_G2, jet2_G2, back1_G2,body1_G2, body2_G2, body3_G2, body4_G2, body5_G2,wingL_G2, wingR_G2, cockpit_G2);
        GetterJ.position.set(800, 500, 0);
        GetterJ.rotation.z = 3.14/2;
        GetterJ.rotation.x = 3.14+3.14/2;
        scene.add(GetterJ);

        const body1_G3 = new THREE.Mesh( cylindergeometry, material_YELLOW );
        scene.add( body1_G3 );
        body1_G3.scale.set(10,20,20);
        body1_G3.rotation.y = 3.14/2;
        body1_G3.position.set(0, 0, 0);

        const body2_G3 = new THREE.Mesh( bodyGJ, material_YELLOW );
        scene.add( body2_G3 );
        body2_G3.scale.set(16,20, 7.8);
        body2_G3.position.set(0, 140, 0);

        const wingR_G3 = new THREE.Mesh( conegeometry, material_YELLOW );
        scene.add( wingR_G3 );
        wingR_G3.scale.set(35,10, 1.5);
        wingR_G3.rotation.z = -3.14/2-3.14/4;
        wingR_G3.rotation.y = 3.14;
        wingR_G3.position.set(100, -50, -40);

        const wingL_G3 = new THREE.Mesh( conegeometry, material_YELLOW );
        scene.add( wingL_G3 );
        wingL_G3.scale.set(35,10, 1.5);
        wingL_G3.rotation.z = 3.14/2+3.14/4;
        wingL_G3.rotation.y = 3.14;
        wingL_G3.position.set(-100, -50, -40);

        const missile_g = new THREE.CylinderGeometry(10, 10, 10, 20);

        const missileR_G3 = new THREE.Mesh( missile_g, material_YELLOW );
        scene.add( missileR_G3 );
        missileR_G3.scale.set(4,25,4);
        missileR_G3.rotation.y = 3.14/2;
        missileR_G3.position.set(190, -100, 40);

        const missileL_G3 = new THREE.Mesh( missile_g, material_YELLOW );
        scene.add( missileL_G3 );
        missileL_G3.scale.set(4,25,4);
        missileL_G3.rotation.y = 3.14/2;
        missileL_G3.position.set(-190, -100, 40);

        const missileR2_G3 = new THREE.Mesh( bodyGJ, material_WH );
        scene.add( missileR2_G3 );
        missileR2_G3.scale.set(5.5,10,5.5);
        missileR2_G3.rotation.y = 3.14/2;
        missileR2_G3.position.set(190, 35, 40);

        const missileL2_G3 = new THREE.Mesh( bodyGJ, material_WH );
        scene.add( missileL2_G3 );
        missileL2_G3.scale.set(5.5,10,5.5);
        missileL2_G3.rotation.y = 3.14/2;
        missileL2_G3.position.set(-190, 35, 40);

        const missileR3_G3 = new THREE.Mesh( missile_g, material_Bl );
        scene.add( missileR3_G3 );
        missileR3_G3.scale.set(4,4,4);
        missileR3_G3.rotation.y = 3.14/2;
        missileR3_G3.position.set(190, -245, 40);

        const missileL3_G3 = new THREE.Mesh( missile_g, material_Bl );
        scene.add( missileL3_G3 );
        missileL3_G3.scale.set(4,4,4);
        missileL3_G3.rotation.y = 3.14/2;
        missileL3_G3.position.set(-190, -245, 40);

        const cockpit_G3 = new THREE.Mesh( boxgeometry, material_YELLOW );
        scene.add( cockpit_G3 );
        cockpit_G3.scale.set(50,40,15);
        cockpit_G3.position.set(0, -100, 80);

        const back1_G3 = new THREE.Mesh( boxgeometry, material_YELLOW );
        scene.add( back1_G3 );
        back1_G3.scale.set(50,65,2);
        back1_G3.position.set(0, -180, 115);

        const back2_G3 = new THREE.Mesh( cylindergeometry, material_YELLOW );
        scene.add( back2_G3 );
        back2_G3.scale.set(20,10, 1);
        //back2_G3.rotation.z = 3.14;
        back2_G3.position.set(0, -240, -75);

        const back3_G3 = new THREE.Mesh( conegeometry, material_YELLOW );
        scene.add( back3_G3 );
        back3_G3.scale.set(25,5, 1.5);
        back3_G3.rotation.z = -3.14/2;
        back3_G3.rotation.y = 3.14/2;
        back3_G3.position.set(120, -215, 60);

        const back4_G3 = new THREE.Mesh( conegeometry, material_YELLOW );
        scene.add( back4_G3 );
        back4_G3.scale.set(25,5, 1.5);
        back4_G3.rotation.z = -3.14/2;
        back4_G3.rotation.y = 3.14/2;
        back4_G3.position.set(-120, -215, 60);

        const back5_G3 = new THREE.Mesh( boxgeometry, material_YELLOW );
        scene.add( back5_G3 );
        back5_G3.scale.set(15,35, 5);
        back5_G3.rotation.z = -3.14/2;
        back5_G3.rotation.y = 3.14/2;
        back5_G3.position.set(0, -230, 10);

        const jet1_G3 = new THREE.Mesh( cylindergeometry, material_Bl );
        scene.add( jet1_G3 );
        jet1_G3.scale.set(4,10,4);
        jet1_G3.rotation.y = 3.14/2;
        jet1_G3.position.set(70, -180, 20);

        const jet2_G3 = new THREE.Mesh( cylindergeometry, material_Bl );
        scene.add( jet2_G3 );
        jet2_G3.scale.set(4,10,4);
        jet2_G3.rotation.y = 3.14/2;
        jet2_G3.position.set(-70, -180, 20);

        const GetterB = new THREE.Group()
        GetterB.add(jet1_G3, jet2_G3, back1_G3,body1_G3, body2_G3, wingL_G3, 
        wingR_G3, cockpit_G3, back1_G3, back2_G3,back3_G3,back4_G3,back5_G3,
        missileR_G3,missileR2_G3,missileR3_G3,missileL_G3,missileL2_G3,missileL3_G3);
        GetterB.position.set(1600, 500, 0);
        GetterB.rotation.z = 3.14/2;
        GetterB.rotation.x = 3.14+3.14/2;
        scene.add(GetterB);

        const horngeometry = new THREE.ConeGeometry( 5, 20, 4 );
        const hornR_GT1 = new THREE.Mesh( horngeometry, material);
        scene.add( hornR_GT1 );
        hornR_GT1.scale.set(15,15,15);
        hornR_GT1.rotation.z = -1.08;
        hornR_GT1.position.set(160, 180, 0);

        const hornL_GT1 = new THREE.Mesh( horngeometry, material);
        scene.add( hornL_GT1 );
        hornL_GT1.scale.set(15,15,15);
        hornL_GT1.rotation.z = 1.08;
        hornL_GT1.position.set(-160, 180, 0);

        const face_g = new THREE.SphereGeometry(7, 8, 4);
        const face_GT1 = new THREE.Mesh( face_g, material);
        scene.add( face_GT1 );
        face_GT1.scale.set(20,25,18);
        face_GT1.position.set(0, 50, 0);

        const neck_GT1 = new THREE.Mesh( cylindergeometry, mat_neckGt1 );
        scene.add( neck_GT1 );
        neck_GT1.scale.set(10,12,9);
        neck_GT1.rotation.x = 0.08;
        neck_GT1.position.set(0, -120, -10);

        const body_GT1 = new THREE.Mesh( bodyGJ, mat_bodyGt1 );
        scene.add( body_GT1 );
        body_GT1.scale.set(40,60, 30);
        body_GT1.position.set(0, -570, -20);

        const armor1_GT1 = new THREE.Mesh( boxgeometry, material);
        scene.add( armor1_GT1 );
        armor1_GT1.scale.set(100,50,5);
        armor1_GT1.rotation.x = -0.61;
        armor1_GT1.position.set(0, -280, 125);

        const armor2_GT1 = new THREE.Mesh( boxgeometry, material);
        scene.add( armor2_GT1 );
        armor2_GT1.scale.set(100,50,5);
        armor2_GT1.rotation.x = 0.61;
        armor2_GT1.position.set(0, -280, -175);

        const armorgeometry = new THREE.CylinderGeometry( 10, 10, 10 );

        const armor3_GT1 = new THREE.Mesh( armorgeometry, material);
        scene.add( armor3_GT1 );
        armor3_GT1.scale.set(10,16,12.5);
        armor3_GT1.rotation.z = 3.14/2;
        armor3_GT1.position.set(170, -240, -23);

        const armor4_GT1 = new THREE.Mesh( armorgeometry, material);
        scene.add( armor4_GT1 );
        armor4_GT1.scale.set(10,16,12.5);
        armor4_GT1.rotation.z = 3.14/2;
        armor4_GT1.position.set(-170, -240, -23);

        const shoulderR_GT1 = new THREE.Mesh( bodyGJ, material);
        scene.add( shoulderR_GT1 );
        shoulderR_GT1.scale.set(18,18,18);
        shoulderR_GT1.position.set(280, -320, -10);

        const shoulderL_GT1 = new THREE.Mesh( bodyGJ, material);
        scene.add( shoulderL_GT1 );
        shoulderL_GT1.scale.set(18,18,18);
        shoulderL_GT1.position.set(-280, -320, -10);

        const arm1R_GT1 = new THREE.Mesh( armorgeometry, material_WH);
        scene.add( arm1R_GT1 );
        arm1R_GT1.scale.set(7,25,7);
        arm1R_GT1.rotation.z = 0.61;
        arm1R_GT1.position.set(400, -500, -10);

        const arm2R_GT1 = new THREE.Mesh( armorgeometry, material);
        scene.add( arm2R_GT1 );
        arm2R_GT1.scale.set(10,30,10);
        arm2R_GT1.rotation.z = 0.61;
        arm2R_GT1.position.set(475, -600, -10);

        const handR_GT1 = new THREE.Mesh( bodyGJ, material);
        scene.add( handR_GT1 );
        handR_GT1.scale.set(10,10,10);
        handR_GT1.position.set(580, -750, -10);

        const arm1L_GT1 = new THREE.Mesh( armorgeometry, material_WH);
        scene.add( arm1L_GT1 );
        arm1L_GT1.scale.set(7,25,7);
        arm1L_GT1.rotation.z = -0.61;
        arm1L_GT1.position.set(-400, -500, -10);

        const arm2L_GT1 = new THREE.Mesh( armorgeometry, material);
        scene.add( arm2L_GT1 );
        arm2L_GT1.scale.set(10,30,10);
        arm2L_GT1.rotation.z = -0.61;
        arm2L_GT1.position.set(-475, -600, -10);

        const handL_GT1 = new THREE.Mesh( bodyGJ, material);
        scene.add( handL_GT1 );
        handL_GT1.scale.set(10,10,10);
        handL_GT1.position.set(-580, -750, -10);


        tick();
        // 毎フレーム時に実行されるループイベントです
        function tick() {
          // レンダリング
          renderer.render(scene, camera);
          requestAnimationFrame(tick);
          
          }
      }
    </script>
  </head>
  <body>
    <h1>打ち上げ花火はどこから見ても同じ</h1>
    <canvas id="myCanvas"></canvas>
    <p>本課題では、ビルボードで花火を再現した。</p>
  </body>
</html>
